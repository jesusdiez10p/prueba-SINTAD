<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<app-menu></app-menu>
<div>
    <mat-form-field appearance="standard">
        <mat-label>Filter</mat-label>
        <input matInput (keyup)="filtrar($any($event.target).value)" placeholder="Buscar Entidad">
    </mat-form-field>
</div>
<div>
    <table mat-table [dataSource]="dataSource" class="table table-hover">

        <!-- Position Column -->
        <ng-container matColumnDef="idEntidad">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>


        <ng-container matColumnDef="documento">
            <th mat-header-cell *matHeaderCellDef> ID Documento </th>
            <td mat-cell *matCellDef="let element"> {{element.documento.id}} </td>
        </ng-container>


        <ng-container matColumnDef="nroDocumento">
            <th mat-header-cell *matHeaderCellDef> Nro. Documento </th>
            <td mat-cell *matCellDef="let element"> {{element.nroDocumento}} </td>
        </ng-container>

        <ng-container matColumnDef="razonSocial">
            <th mat-header-cell *matHeaderCellDef> Razon Social </th>
            <td mat-cell *matCellDef="let element"> {{element.razonSocial}} </td>
        </ng-container>

        <ng-container matColumnDef="contribuyente">
            <th mat-header-cell *matHeaderCellDef> ID Contribuyente </th>
            <td mat-cell *matCellDef="let element"> {{element.contribuyente.id}} </td>
        </ng-container>

        <ng-container matColumnDef="direccion">
            <th mat-header-cell *matHeaderCellDef> Direccion </th>
            <td mat-cell *matCellDef="let element"> {{element.direccion}} </td>
        </ng-container>

        <ng-container matColumnDef="telefono">
            <th mat-header-cell *matHeaderCellDef> Telefono </th>
            <td mat-cell *matCellDef="let element"> {{element.telefono}} </td>
        </ng-container>

        <ng-container matColumnDef="estado">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let element"> {{element.estado}} </td>
        </ng-container>
        <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef> Acciones </th>
            <td mat-cell *matCellDef="let row">
                <button mat-button color="primary" (click)="openModal(row)">
                    <span class="material-icons">
                        edit
                    </span>    
                </button>
                <button mat-button color="warn" (click)="onDelete(row.id)">
                    <span class="material-icons">
                        delete
                    </span>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
    <mat-paginator [length]="100" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page">
    </mat-paginator>
    <button mat-raised-button color="primary" (click)="openModal()" style="float: right;">
        <span class="material-icons">
            add_circle
        </span>    
    </button>
    <nav>
        <ul>
            <a class="btn btn-primary" routerLink="/documento" routerLinkActive="active">Documento Component</a>
            <a class="btn btn-success" routerLink="/contribuyente" routerLinkActive="active">Contribuyente Component</a>
        </ul>
    </nav>
</div>